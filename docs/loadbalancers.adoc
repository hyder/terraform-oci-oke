= Load Balancers
:idprefix:
:idseparator: -
:sectlinks:
:toc: auto

:uri-oci-documentation: https://docs.cloud.oracle.com/iaas/Content/home.htm
:uri-oci-kms: https://docs.cloud.oracle.com/iaas/Content/KeyManagement/Concepts/keyoverview.htm
:uri-oci-loadbalancer-annotations: https://github.com/oracle/oci-cloud-controller-manager/blob/master/docs/load-balancer-annotations.md
:uri-oci-manage-dynamic-groups: https://docs.cloud.oracle.com/iaas/Content/Identity/Tasks/managingdynamicgroups.htm
:uri-oci-manage-policies: https://docs.cloud.oracle.com/iaas/Content/Identity/Tasks/managingpolicies.htm
:uri-oci-load-balancers: https://docs.oracle.com/en-us/iaas/Content/ContEng/Tasks/contengcreatingloadbalancer.htm#Specifyi
:uri-oci-oke-flexible-loadbalancers: https://medium.com/@lmukadam/creating-flexible-oci-load-balancers-with-oke-bd98e0318976

== Using Dynamic and Flexible Load Balancers

When you create a service of type LoadBalancer, by default, an OCI Load Balancer with dynamic shape 100Mbps will be created.

.You can override this shape by using the {uri-oci-loadbalancer-annotations}[OCI Load Balancer Annotations]. In order to keep using the dynamic shape but change the available total bandwidth to 400Mbps, use the following annotation on your LoadBalancer service:
```
service.beta.kubernetes.io/oci-load-balancer-shape: "400Mbps"
```

.You can also change the shape to flexible and set a minimum and maximum bandwidth:
```
service.beta.kubernetes.io/oci-load-balancer-shape: "flexible"
service.beta.kubernetes.io/oci-load-balancer-shape-flex-min: 50
service.beta.kubernetes.io/oci-load-balancer-shape-flex-max: 200
```

.Review the following documentation and articles on creating load balancers of different shapes using Ingress Controllers:
* {uri-oci-load-balancers}[Specifying Alternative Load Balancer Shapes]
* {uri-oci-oke-flexible-loadbalancers}[Creating flexible OCI Load Balancers with OKE]
